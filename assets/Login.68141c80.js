import{d as h,Y as v,aM as k,an as w,X as f,o as y,c as x,b as p,a as e,s as l,aN as _,a8 as I,w as S,F as L,G as r,r as C,A as U,B as V,V as b,z as B,_ as D}from"./index.594ced5a.js";import{_ as N}from"./uoa.f112d51c.js";import{L as F}from"./LoginBackground.229ac536.js";const i=t=>(U("data-v-72cee624"),t=t(),V(),t),K={class:"container"},M={class:"login-window"},T=i(()=>e("img",{src:N,alt:"",class:"logo"},null,-1)),G=i(()=>e("div",{class:"title"},"Login",-1)),P=i(()=>e("div",{class:"keep-login"},[e("input",{type:"checkbox",class:"login-options"}),e("span",null,"Keep me logged in")],-1)),z=["onClick"],A={class:"register-prompt"},E=r("Don't have an account? Click "),J=r("here"),O=r(" to sign up."),R=h({__name:"Login",setup(t){const o=v({userID:"admin",password:"admin"}),c=k(),d=w(),u=f(),m=()=>{b("/api/login",o).then(s=>{c.setToken(s.token)}).then(()=>{B("/api/currentUser").then(s=>{c.setUserId(s.id),d.setKeyFromGroups(s.groups),sessionStorage.setItem("mtms_keys",JSON.stringify(d.getKey))})}).then(()=>{u.push("/dashboard")}).catch(s=>console.error(s))};return(s,n)=>{const g=C("router-link");return y(),x(L,null,[p(F),e("div",K,[e("div",M,[T,G,e("form",null,[l(e("input",{type:"text",placeholder:"Username","onUpdate:modelValue":n[0]||(n[0]=a=>o.userID=a)},null,512),[[_,o.userID]]),l(e("input",{type:"password",placeholder:"Password","onUpdate:modelValue":n[1]||(n[1]=a=>o.password=a)},null,512),[[_,o.password]]),P,e("button",{type:"submit",onClick:I(m,["prevent"])},"Login",8,z),e("span",A,[E,p(g,{to:"/register"},{default:S(()=>[J]),_:1}),O])])])])],64)}}});const q=D(R,[["__scopeId","data-v-72cee624"]]);export{q as default};
