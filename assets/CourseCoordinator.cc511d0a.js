import{d as Q,a1 as X,g as c,Y as ee,h as le,q as te,ai as ae,a5 as oe,aj as se,aK as re,a3 as ue,p as ne,a4 as ie,a7 as de,M as me,N as pe,aA as fe,O as ce,K as _e,Z as be,v as ve,o as h,c as ge,a as u,b as e,w as l,s as w,e as I,F as he,z as D,u as H,af as ye,G as r,t as m,aL as ke,U as Ve,a0 as $,A as Ne,B as Oe,_ as Ce}from"./index.e67ef29c.js";/* empty css                   *//* empty css                  *//* empty css                   *//* empty css                     *//* empty css                  *//* empty css                 *//* empty css                 *//* empty css                    *//* empty css               *//* empty css               *//* empty css               *//* empty css                *//* empty css                             */const _=y=>(Ne("data-v-15a4d13e"),y=y(),Oe(),y),we={class:"page-container"},Ie={class:"card-header"},Pe=_(()=>u("span",null,"Course Information",-1)),Ue=_(()=>u("br",null,null,-1)),Ae=_(()=>u("div",{class:"card-header"},[u("span",null,"Pre Assign Markers & Tutors")],-1)),Te=_(()=>u("p",{class:"emphasis"},"If you wish to assign students who are not register in the system: ",-1)),Ee=r(" Invite User "),xe=_(()=>u("br",null,null,-1)),Me=_(()=>u("p",{class:"emphasis"},"If they are already users of the system: ",-1)),Se=r("Enroll to the Course "),Le=_(()=>u("div",{class:"card-header"},[u("span",null,"Current Markers & Tutors")],-1)),Re=_(()=>u("p",{class:"emphasis"},"Markers",-1)),De=_(()=>u("p",{class:"emphasis"},"Tutors",-1)),We={class:"modal-container"},qe={class:"course-modal"},ze={class:"modal-content"},He=r("hours"),$e={class:"modal-btns"},Be=r("Edit course"),Fe=_(()=>u("p",{class:"emphasis"},"Find Users",-1)),Ye=r("Enroll "),je={class:"dialog-footer"},Ke=r("Cancel"),Ge=r("Confirm"),Ze=Q({__name:"CourseCoordinator",setup(y){const P=X(),k=c(!1),a=ee({needTutors:!1,estimatedNumOfStudents:"",numOfTutorialsPerWeek:"",canPreAssign:!1,numOfAssignments:"",markerResponsibility:"",courseName:"",tutorResponsibility:"",numOfLabsPerWeek:"",totalAvailableHours:"",needMarkers:!1,currentlyNumOfStudents:"",prerequisite:""}),n=c({}),V=c(!1),B=()=>{V.value=!0,Ve(`/api/courseManagement/${P.params.courseId}`,{data:a}).then(()=>{W()}).then(()=>{k.value=!1,$({message:"Edit success.",type:"success"}),V.value=!1}).catch(s=>{$({message:"Oops. An error has occurred!",type:"error"}),V.value=!1,console.error(s)})},W=()=>{D("api/getCourse/"+P.params.courseId).then(s=>{n.value=s,a.needTutors=s.needTutors,a.estimatedNumOfStudents=s.estimatedNumOfStudents,a.numOfTutorialsPerWeek=s.numOfTutorialsPerWeek,a.canPreAssign=s.canPreAssign,a.numOfAssignments=s.numOfAssignments,a.markerResponsibility=s.markerResponsibility,a.courseName=s.courseName,a.tutorResponsibility=s.tutorResponsibility,a.numOfLabsPerWeek=s.numOfLabsPerWeek,a.totalAvailableHours=s.totalAvailableHours,a.needMarkers=s.needMarkers,a.currentlyNumOfStudents=s.currentlyNumOfStudents,a.prerequisite=s.prerequisite,console.log(n.value)})};W();const v=c(!1),U=c([]),N=c(!1),A=c(""),F=()=>{N.value=!0,D("api/UserProfile/"+A.value).then(s=>{U.value=[],U.value.push({id:s.id,email:s.email,name:s.name,upi:s.upi,auid:s.auid}),N.value=!1}).catch(s=>{console.log(s),N.value=!1})},Y=()=>{F()},T=c([]),E=c(!1),x=c([]),M=c(!1),{isLoading:Je,state:q,isReady:Qe,execute:j}=le(s=>{const t=P.params.courseId;return D(`api/getCourseUser/${t}/true`)},[],{resetOnExecute:!1,immediate:!1});return(()=>{E.value=!0,M.value=!0,j().then(()=>{T.value=q.value.filter(s=>s.roleInCourse==="marker"),x.value=q.value.filter(s=>s.roleInCourse==="tutor"),E.value=!1,M.value=!1,console.log(T.value),console.log(x.value)})})(),(s,t)=>{const b=te,d=ae,K=oe,z=se,S=re,O=ue,g=ne,i=ie,L=de,f=me,p=pe,R=fe,G=ce,Z=_e,J=be,C=ve;return h(),ge(he,null,[u("div",we,[e(g,{gutter:15},{default:l(()=>[e(O,{md:12,xs:24},{default:l(()=>[e(S,{class:"box-card"},{header:l(()=>[u("div",Ie,[Pe,e(b,{type:"primary",icon:H(ye),onClick:t[0]||(t[0]=o=>k.value=!0),circle:""},null,8,["icon"])])]),default:l(()=>[e(z,{title:"Basic Information",direction:"vertical",column:4,border:""},{default:l(()=>[e(d,{label:"Course Name",span:2},{default:l(()=>[r(m(n.value.courseName),1)]),_:1}),e(d,{label:"Term"},{default:l(()=>[e(K,{effect:"dark"},{default:l(()=>[r(m(n.value.termName),1)]),_:1})]),_:1}),e(d,{label:"Estimated Num Of Students"},{default:l(()=>[r(m(n.value.estimatedNumOfStudents),1)]),_:1}),e(d,{label:"Currently Num Of Students"},{default:l(()=>[r(m(n.value.currentlyNumOfStudents),1)]),_:1}),e(d,{label:"Num Of Assignments"},{default:l(()=>[r(m(n.value.numOfAssignments),1)]),_:1}),e(d,{label:"Num Of Labs Per Week"},{default:l(()=>[r(m(n.value.numOfLabsPerWeek),1)]),_:1}),e(d,{label:"Num Of Tutorials Per Week"},{default:l(()=>[r(m(n.value.numOfTutorialsPerWeek),1)]),_:1})]),_:1}),Ue,e(z,{title:"Application Information",direction:"vertical",column:4,border:""},{default:l(()=>[e(d,{label:"Need Markers"},{default:l(()=>[r(m(n.value.needMarkers),1)]),_:1}),e(d,{label:"Need Tutors"},{default:l(()=>[r(m(n.value.needTutors),1)]),_:1}),e(d,{label:"Total Available Hours"},{default:l(()=>[r(m(n.value.totalAvailableHours),1)]),_:1}),e(d,{label:"Can Pre Assign"},{default:l(()=>[r(m(n.value.canPreAssign),1)]),_:1}),e(d,{label:"Application DeadLine"},{default:l(()=>[r(m(n.value.deadLine),1)]),_:1}),e(d,{label:"Prerequisite",span:3},{default:l(()=>[r(m(n.value.prerequisite),1)]),_:1}),e(d,{label:"Tutor Responsibility",span:4},{default:l(()=>[r(m(n.value.tutorResponsibility),1)]),_:1}),e(d,{label:"Marker Responsibility",span:4},{default:l(()=>[r(m(n.value.markerResponsibility),1)]),_:1})]),_:1})]),_:1})]),_:1}),e(O,{md:12,xs:24},{default:l(()=>[e(g,{gutter:15},{default:l(()=>[e(O,{span:24},{default:l(()=>[e(S,{class:"box-card"},{header:l(()=>[Ae]),default:l(()=>[Te,e(g,{justify:"center"},{default:l(()=>[e(b,{size:"large",type:"warning",onClick:t[1]||(t[1]=o=>s.$router.push("/manageuser/batch-invite-user")),round:""},{default:l(()=>[Ee]),_:1})]),_:1}),xe,Me,e(g,{justify:"center"},{default:l(()=>[e(b,{size:"large",type:"primary",onClick:t[2]||(t[2]=o=>v.value=!0),round:""},{default:l(()=>[Se]),_:1})]),_:1})]),_:1})]),_:1}),e(O,{span:24},{default:l(()=>[e(S,{class:"box-card"},{header:l(()=>[Le]),default:l(()=>[Re,w((h(),I(L,{data:T.value,style:{width:"100%"}},{default:l(()=>[e(i,{label:"ID",prop:"id",width:"90"}),e(i,{label:"Email",prop:"email",width:"210"}),e(i,{label:"Name",prop:"name",width:"150"}),e(i,{label:"UPI",prop:"upi",width:"80"}),e(i,{label:"AUID",prop:"auid"})]),_:1},8,["data"])),[[C,E.value]]),De,w((h(),I(L,{data:x.value,style:{width:"100%"}},{default:l(()=>[e(i,{label:"ID",prop:"id",width:"90"}),e(i,{label:"Email",prop:"email",width:"210"}),e(i,{label:"Name",prop:"name",width:"150"}),e(i,{label:"UPI",prop:"upi",width:"80"}),e(i,{label:"AUID",prop:"auid"})]),_:1},8,["data"])),[[C,M.value]])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),w((h(),I(Z,{modelValue:k.value,"onUpdate:modelValue":t[16]||(t[16]=o=>k.value=o),title:"Edit Course Information",width:"60%",top:"5vh"},{default:l(()=>[u("div",We,[u("div",qe,[e(G,{ref:"courseEditRef",model:a,"label-width":"220px"},{default:l(()=>[u("div",ze,[e(p,{label:"Course Name",prop:"courseName"},{default:l(()=>[e(f,{modelValue:a.courseName,"onUpdate:modelValue":t[3]||(t[3]=o=>a.courseName=o),placeholder:""},null,8,["modelValue"])]),_:1}),e(g,null,{default:l(()=>[e(p,{label:"Can be preassigned",prop:"canPreAssign","label-width":"220px"},{default:l(()=>[e(R,{modelValue:a.canPreAssign,"onUpdate:modelValue":t[4]||(t[4]=o=>a.canPreAssign=o),class:"ml-2","inline-prompt":"",style:{"--el-switch-on-color":"#13ce66","--el-switch-off-color":"#ff4949"},"active-text":"Y","inactive-text":"N"},null,8,["modelValue"])]),_:1}),e(p,{label:"Need markers",prop:"needMarkers","label-width":"150px"},{default:l(()=>[e(R,{modelValue:a.needMarkers,"onUpdate:modelValue":t[5]||(t[5]=o=>a.needMarkers=o),class:"ml-2","inline-prompt":"",style:{"--el-switch-on-color":"#13ce66","--el-switch-off-color":"#ff4949"},"active-text":"Y","inactive-text":"N"},null,8,["modelValue"])]),_:1}),e(p,{label:"Need tutors",prop:"needTutors","label-width":"150px"},{default:l(()=>[e(R,{modelValue:a.needTutors,"onUpdate:modelValue":t[6]||(t[6]=o=>a.needTutors=o),class:"ml-2","inline-prompt":"",style:{"--el-switch-on-color":"#13ce66","--el-switch-off-color":"#ff4949"},"active-text":"Y","inactive-text":"N"},null,8,["modelValue"])]),_:1})]),_:1}),e(p,{label:"Estimated number of students",prop:"estimatedNumOfStudents"},{default:l(()=>[e(f,{modelValue:a.estimatedNumOfStudents,"onUpdate:modelValue":t[7]||(t[7]=o=>a.estimatedNumOfStudents=o),modelModifiers:{number:!0},placeholder:""},null,8,["modelValue"])]),_:1}),e(p,{label:"Current number of students",prop:"currentlyNumOfStudents"},{default:l(()=>[e(f,{modelValue:a.currentlyNumOfStudents,"onUpdate:modelValue":t[8]||(t[8]=o=>a.currentlyNumOfStudents=o),modelModifiers:{number:!0},placeholder:""},null,8,["modelValue"])]),_:1}),e(p,{label:"Number of Tutorials per week",prop:"numOfTutorialsPerWeek"},{default:l(()=>[e(f,{modelValue:a.numOfTutorialsPerWeek,"onUpdate:modelValue":t[9]||(t[9]=o=>a.numOfTutorialsPerWeek=o),modelModifiers:{number:!0},placeholder:""},null,8,["modelValue"])]),_:1}),e(p,{label:"Number of Labs per week",prop:"numOfLabsPerWeek"},{default:l(()=>[e(f,{modelValue:a.numOfLabsPerWeek,"onUpdate:modelValue":t[10]||(t[10]=o=>a.numOfLabsPerWeek=o),modelModifiers:{number:!0},placeholder:""},null,8,["modelValue"])]),_:1}),e(p,{label:"Number of assignments",prop:"numOfAssignments"},{default:l(()=>[e(f,{modelValue:a.numOfAssignments,"onUpdate:modelValue":t[11]||(t[11]=o=>a.numOfAssignments=o),modelModifiers:{number:!0},placeholder:""},null,8,["modelValue"])]),_:1}),e(p,{label:"Total available hours",prop:"totalAvailableHours"},{default:l(()=>[e(f,{modelValue:a.totalAvailableHours,"onUpdate:modelValue":t[12]||(t[12]=o=>a.totalAvailableHours=o),modelModifiers:{number:!0},placeholder:""},{append:l(()=>[He]),_:1},8,["modelValue"])]),_:1}),e(p,{label:"Prerequisite",prop:"prerequisite"},{default:l(()=>[e(f,{modelValue:a.prerequisite,"onUpdate:modelValue":t[13]||(t[13]=o=>a.prerequisite=o),autosize:"",type:"textarea",placeholder:"Please input"},null,8,["modelValue"])]),_:1}),e(p,{label:"Marker responsibility",prop:"markerResponsibility"},{default:l(()=>[e(f,{modelValue:a.markerResponsibility,"onUpdate:modelValue":t[14]||(t[14]=o=>a.markerResponsibility=o),autosize:"",type:"textarea",placeholder:"Please input"},null,8,["modelValue"])]),_:1}),e(p,{label:"Tutor responsibility",prop:"tutorResponsibility"},{default:l(()=>[e(f,{modelValue:a.tutorResponsibility,"onUpdate:modelValue":t[15]||(t[15]=o=>a.tutorResponsibility=o),autosize:"",type:"textarea",placeholder:"Please input"},null,8,["modelValue"])]),_:1})]),u("div",$e,[e(p,null,{default:l(()=>[e(b,{type:"primary",onClick:B},{default:l(()=>[Be]),_:1})]),_:1})])]),_:1},8,["model"])])])]),_:1},8,["modelValue"])),[[C,V.value]]),e(J,{modelValue:v.value,"onUpdate:modelValue":t[20]||(t[20]=o=>v.value=o),title:"Enroll to the Course",size:"50%",direction:"rtl"},{footer:l(()=>[u("span",je,[e(b,{onClick:t[18]||(t[18]=o=>v.value=!1)},{default:l(()=>[Ke]),_:1}),e(b,{type:"primary",onClick:t[19]||(t[19]=o=>v.value=!1)},{default:l(()=>[Ge]),_:1})])]),default:l(()=>[Fe,e(f,{modelValue:A.value,"onUpdate:modelValue":t[17]||(t[17]=o=>A.value=o),class:"w-50 m-2",placeholder:"Please Input User ID",style:{"margin-bottom":"10px"},"prefix-icon":H(ke),onInput:Y},null,8,["modelValue","prefix-icon"]),w((h(),I(L,{data:U.value,style:{width:"100%"}},{default:l(()=>[e(i,{label:"ID",prop:"id"}),e(i,{label:"Email",prop:"email"}),e(i,{label:"Name",prop:"name"}),e(i,{label:"UPI",prop:"upi"}),e(i,{label:"AUID",prop:"auid"}),e(i,{align:"right"},{default:l(o=>[e(b,{size:"small"},{default:l(()=>[Ye]),_:1})]),_:1})]),_:1},8,["data"])),[[C,N.value]])]),_:1},8,["modelValue"])],64)}}});const cl=Ce(Ze,[["__scopeId","data-v-15a4d13e"]]);export{cl as default};
